---
title: Logging with SLF4J and Logback 
date: 2025-04-15
desc: Spring Framework (7)
thumbnail: /posts/Backend/2025-04-15/thumbnail.png
tags:
  - Spring
  - Web Framework
  - JPA
seriesName: Spring Framework
---

<Thumbnail src="/posts/Backend/2025-04-15/thumbnail.png" />
<Callout type="warn">**êµê³¼ëª© ë‚´ìš©ì„ ì •ë¦¬í•˜ê¸° ìœ„í•œ ê¸€ì…ë‹ˆë‹¤. í‹€ë¦° ë‚´ìš©ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì°¸ê³ í•˜ì„¸ìš”**</Callout>

## ë“¤ì–´ê°€ë©°

> ì™œ ê°„ë‹¨í•˜ê²Œ System.out.print()ìœ¼ë¡œ ë¡œê·¸ë¥¼ ì¶œë ¥í•˜ì§€ ì•Šì„ê¹Œ?

#### ìœ ì—°ì„±ì„ ìœ„í•´ì„œ
- ì„ íƒ ê°€ëŠ¥í•œ ìš°ì„ ìˆœìœ„(`DEBUG`, `INFO`...) ìˆ˜ì¤€ ì´ìƒì˜ ì¶œë ¥ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŒ
- ëª¨ë“  ëª¨ë“ˆì´ë‚˜ íŠ¹ì • ëª¨ë“ˆ/í´ë˜ìŠ¤ì— ëŒ€í•´ì„œë§Œ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆìŒ
- ì´ëŸ¬í•œ ë©”ì‹œì§€ë“¤ì˜ í˜•ì‹ì„ ì–´ë–»ê²Œ ì§€ì •í• ì§€ ì œì–´í•  ìˆ˜ ìˆìŒ
- ì–´ë””ë¡œ ë³´ë‚¼ì§€ ê²°ì •í•  ìˆ˜ ìˆìŒ

## Logging Framework
- ë„¤ì´í‹°ë¸Œì¸ `java.util.logging`ì€ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- `Log4J` - ëª‡ ë…„ê°„ ì‚¬ì‹¤ìƒ í‘œì¤€(**de facto**)ì´ì—ˆìŒ
- `Logback` - Log4Jì˜ ê°œë°œìê°€ ë§Œë“  í›„ì†ì‘ìœ¼ë¡œ **í˜„ì¬ ë§ì€ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ë¨**
- `SLF4J` (Simple Logging Facade for Java) - <u>**Facade íŒ¨í„´**</u>ì„ ì‚¬ìš©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¡œ Log4J, Logback ë“± ì‹¤ì œ ë¡œê¹… í”„ë ˆì„ì›Œí¬ì˜ **ê³µí†µëœ ì¸í„°í˜ì´ìŠ¤ ì—­í• **

#### Facade Pattern (í¼ì‚¬ë“œ íŒ¨í„´)

![Facade Pattern](/posts/Backend/2025-04-15/1.png)

- í´ë¼ì´ì–¸íŠ¸ëŠ” **í¼ì‚¬ë“œ(Facade)ì— ìš”ì²­ì„ ë³´ë‚´ëŠ” ë°©ì‹**ìœ¼ë¡œ ì„œë¸Œì‹œìŠ¤í…œê³¼ ì†Œí†µí•˜ë©°, **í¼ì‚¬ë“œ**ëŠ” í•´ë‹¹ ìš”ì²­ì„ ì ì ˆí•œ **ì„œë¸Œì‹œìŠ¤í…œ ê°ì²´ë¡œ ì „ë‹¬**í•¨
- **ì‹¤ì œ ì‘ì—…**ì€ **ì„œë¸Œì‹œìŠ¤í…œ ê°ì²´**ë“¤ì´ ìˆ˜í–‰í•˜ì§€ë§Œ, **í¼ì‚¬ë“œ**ëŠ” ìì‹ ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ **ì„œë¸Œì‹œìŠ¤í…œ ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜í•˜ê¸° ìœ„í•œ ì‘ì—…ì„ ìˆ˜í–‰**í•´ì•¼ í•  ìˆ˜ ìˆìŒ
- í´ë¼ì´ì–¸íŠ¸ê°€ **ì„œë¸Œ ì‹œìŠ¤í…œì— ì§ì ‘ ì ‘ê·¼í•˜ì§€ ì•Šì•„ë„ ë¨**

â€» ìº¡ìŠí™”(ì •ë³´ ì€ë‹‰)ì™€ ëª©ì ì´ ë‹¤ë¦„

## SLF4J (Simple Logging Facade for Java)

![SLF4J](/posts/Backend/2025-04-15/2.png)

- `java.util.logging`, `Log4j`, `Logback` ë“± **ë‹¤ì–‘í•œ ë¡œê¹… í”„ë ˆì„ì›Œí¬ì— ëŒ€í•´ ê°„ë‹¨í•œ í¼ì‚¬ë“œ(í˜¹ì€ ì¶”ìƒí™” ë ˆì´ì–´) ì—­í• **
- slf4j-api-2.0.12.jar í•˜ë‚˜ë¥¼ ì˜ì¡´ì„±ì— ì¶”ê°€í•´ì•¼ í•¨
- í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ë¡œê¹… í”„ë ˆì„ì›Œí¬ì™€ ì—°ê²°(binding)ë˜ëŠ” êµ¬í˜„ì²´ê°€ ì—†ë‹¤ë©´, **SLF4JëŠ” ì•„ë¬´ ë™ì‘ë„ í•˜ì§€ ì•ŠëŠ”(no-operation) ìƒíƒœë¡œ ë™ì‘**

## Logback

> log4jì˜ í›„ì†ì‘ìœ¼ë¡œ **ë” ë¹ ë¥´ê³  ê°€ë²¼ì›€**

![Logback](/posts/Backend/2025-04-15/3.png)

logback-classic ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë ¤ë©´, í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ë‹¤ìŒ JAR íŒŒì¼ë“¤ì´ ë°˜ë“œì‹œ í¬í•¨ë˜ì–´ì•¼ í•œë‹¤.
1. slf4j-api.jar
2. logback-core.jar
3. logback-classic.jar

â€» ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œ `spring-boot-starter-logging`ì€ ë¡œí‚¹ í”„ë ˆì„ ì›Œí¬ë¥¼ í¬í•¨í•¨

```java
package kr.ac.hansung.cse;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class HelloWorld { 
  public static void main(String[] args) {
    Logger logger = LoggerFactory.getLogger("kr.ac.hansung.cse.HelloWorld");
    logger.debug("Hello world.");
  }
}
```

```bash
20:49:07.962 [main] DEBUG kr.ac.hansung.cse.HelloWorld - Hello world.
```
- ìœ„ ì˜ˆì œëŠ” **logback** ê´€ë ¨ í´ë˜ìŠ¤ëŠ” **ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ëŠ” ì **ì— ì£¼ëª©
- ì˜¤ì§ **SLF4Jì˜ í´ë˜ìŠ¤ë§Œ import** í•˜ë©´ ë¨
- ë”°ë¼ì„œ, ì½”ë“œëŠ” SLF4J APIë§Œ ì‚¬ìš©í•˜ê³ , Logbackì´ ì¡´ì¬í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ëª°ë¼ë„ ë¨

### 1. Logger

LoggerëŠ” **ì´ë¦„ì„ ê°€ì§„ ì—”í‹°í‹°**(ê°ì²´)ë¡œ ì´ë¦„ì„ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ë©° <Highlight color="LAVENDER">**ê³„ì¸µì ì¸ ì´ë¦„ ê·œì¹™**</Highlight>ì„ ë”°ë¦„
- `kr.ac.hansung` ì´ë¦„ì˜ LoggerëŠ” `kr.ac.hansung.cse` Loggerì˜ ë¶€ëª¨
- root loggerëŠ” ê³„ì¸µ êµ¬ì¡°ì˜ ìµœìƒìœ„

#### Logging Level

> Loggerì— <Highlight color="PEACH">**ë ˆë²¨**</Highlight>ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤

- ë¡œê·¸ ë ˆë²¨ì€ `TRACE` â†’ `DEBUG` â†’ `INFO` â†’ `WARN` â†’ `ERROR` ìˆœìœ¼ë¡œ **ì¤‘ìš”ë„(ì‹¬ê°ë„)**ê°€ ì ì  ë†’ì•„ì§
- ëª…ì‹œì ìœ¼ë¡œ ë ˆë²¨ì´ **ì§€ì •ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´** **ê°€ì¥ ê°€ê¹Œìš´ ìƒìœ„ ë¡œê±°ì˜ ë ˆë²¨ì„ ìƒì† ë°›ìŒ**
- root loggerëŠ” í•­ìƒ ë ˆë²¨ì´ ì§€ì •ë˜ì–´ ìˆìœ¼ë©°, ê¸°ë³¸ê°’ì€ `INFO`ì„

##### ì˜ˆì‹œ

| **Logger name** | **Assigned level** | **Effective level** |
| --- | --- | --- |
| root | `DEBUG` | `DEBUG` |
| X | `INFO` | `INFO` |
| X.Y | `none` | `INFO` |
| X.Y.Z | `ERROR` | `ERROR` |

#### Printing method

- ì–´ë–¤ **ì¶œë ¥ ë©”ì„œë“œ**ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ì— ë”°ë¼ ë¡œê·¸ ìš”ì²­ì˜ **ë ˆë²¨ì´ ê²°ì •ë¨**
â†’ `logger.warn("hello");`ëŠ” `WARN` ë ˆë²¨ì˜ ë¡œê·¸ ìš”ì²­

![Logback](/posts/Backend/2025-04-15/4.png)

- ë¡œê·¸ ìš”ì²­ì˜ ë ˆë²¨ì´ **í•´ë‹¹ ë¡œê±°ì˜ ìœ íš¨ ë ˆë²¨**(effective level)ë³´ë‹¤ **í¬ê±°ë‚˜ ê°™ìœ¼ë©´**, ê·¸ ë¡œê·¸ ìš”ì²­ì€ **í™œì„±í™”(enabled)**ë˜ì—ˆë‹¤ê³  í•œë‹¤.
- ê·¸ë ‡ì§€ ì•Šìœ¼ë©´, ì¦‰ **ë¡œê¹… ìš”ì²­ì˜ ë ˆë²¨ì´ ë” ë‚®ìœ¼ë©´**, ê·¸ ë¡œê·¸ ìš”ì²­ì€ **ë¹„í™œì„±í™”(disabled)**ë˜ì—ˆë‹¤ê³  í•œë‹¤.

#### ë¡œê·¸ ìš”ì²­ í—ˆìš© ì—¬ë¶€ (`YES` = ì¶œë ¥ë¨, `NO` = ë¬´ì‹œë¨)

| Logging Request `p` â†“ \ Logger Effective Level `q` â†’ | TRACE                       | DEBUG                       | INFO                        | WARN                        | ERROR                       | OFF                         |
|------------------------------------------------------|-----------------------------|-----------------------------|-----------------------------|-----------------------------|-----------------------------|-----------------------------|
| **TRACE**                                             | <Highlight color="SKY">YES</Highlight>   | <Highlight color="PEACH">NO</Highlight>    | <Highlight color="PEACH">NO</Highlight>   | <Highlight color="PEACH">NO</Highlight>   | <Highlight color="PEACH">NO</Highlight>    | <Highlight color="PEACH">NO</Highlight>   |
| **DEBUG**                                             | <Highlight color="SKY">YES</Highlight>   | <Highlight color="SKY">YES</Highlight>   | <Highlight color="PEACH">NO</Highlight>   | <Highlight color="PEACH">NO</Highlight>   | <Highlight color="PEACH">NO</Highlight>    | <Highlight color="PEACH">NO</Highlight>   |
| **INFO**                                              | <Highlight color="SKY">YES</Highlight>   | <Highlight color="SKY">YES</Highlight>   | <Highlight color="SKY">YES</Highlight>  | <Highlight color="PEACH">NO</Highlight>   | <Highlight color="PEACH">NO</Highlight>    | <Highlight color="PEACH">NO</Highlight>   |
| **WARN**                                              | <Highlight color="SKY">YES</Highlight>   | <Highlight color="SKY">YES</Highlight>   | <Highlight color="SKY">YES</Highlight>  | <Highlight color="SKY">YES</Highlight>  | <Highlight color="PEACH">NO</Highlight>    | <Highlight color="PEACH">NO</Highlight>   |
| **ERROR**                                             | <Highlight color="SKY">YES</Highlight>   | <Highlight color="SKY">YES</Highlight>   | <Highlight color="SKY">YES</Highlight>  | <Highlight color="SKY">YES</Highlight>  | <Highlight color="SKY">YES</Highlight>   | <Highlight color="PEACH">NO</Highlight>   |

```java
package kr.ac.hansung.example;

import org.slf4j.LoggerFactory;
import ch.qos.logback.classic.Level;
import ch.qos.logback.classic.Logger;

public class LoggerLevelExample {
    public static void main(String[] args) {
        // "kr.ac.hansung.example" ì´ë¦„ì˜ ë¡œê±° ìƒì„±
        Logger logger = (Logger) LoggerFactory.getLogger("kr.ac.hansung.example");

        // ë¡œê±° ë ˆë²¨ì„ INFOë¡œ ì„¤ì •
        logger.setLevel(Level.INFO);

        // ì¶œë ¥ë¨: WARN >= INFO
        logger.warn("âš ï¸ Low fuel level.");

        // ì¶œë ¥ ì•ˆ ë¨: DEBUG < INFO
        logger.debug("ğŸ” Starting search for nearest gas station.");

        // ì¶œë ¥ë¨: ERROR >= INFO
        logger.error("â— Out of fuel! Engine stopped.");

        // ì¶œë ¥ ì•ˆ ë¨: TRACE < INFO
        logger.trace("Trace log for diagnostic purposes.");
    }
}
```

```bash
[main] WARN  kr.ac.hansung.example - âš ï¸ Low fuel level.
[main] ERROR kr.ac.hansung.example - â— Out of fuel! Engine stopped.
```

### 2. Appenders

1. ë¡œê·¸ ìš”ì²­ì€ **í•˜ë‚˜ ì´ìƒì˜ ì¶œë ¥ ëŒ€ìƒ**(destination)ìœ¼ë¡œ ì¶œë ¥ë  ìˆ˜ ìˆìŒ
2. ê° ì¶œë ¥ ëŒ€ìƒì€ <Highlight color="LAVENDER">**appender**</Highlight>(ì¶œë ¥ê¸°)ë¡œ í‘œí˜„ë˜ë©°, ë‹¤ìŒê³¼ ê°™ì€ ì¢…ë¥˜ ê°€ëŠ¥
â†’ `console`, `files` (plain text, HTML...), `remote socket servers`, `databases`


![Appenders](/posts/Backend/2025-04-15/5.png)

> íŠ¹ì • ë¡œê±°ì˜ í™œì„±í™”ëœ ë¡œê·¸ ìš”ì²­ì€, í•´ë‹¹ ë¡œê±°ì— ì„¤ì •ëœ ëª¨ë“  appenderë¿ ì•„ë‹ˆë¼ ìƒìœ„ ê³„ì¸µì˜ appenderë“¤ì—ê²Œë„ ì „ë‹¬ëœë‹¤.
- ì¦‰, appenderëŠ” ë¡œê±° ê³„ì¸µì—ì„œ ëˆ„ì ì ìœ¼ë¡œ ìƒì†ëœë‹¤.ì´ë¥¼ **Appender Additivity**ì´ë¼ê³  ë¶€ë¥¸ë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´, **root ë¡œê±°**ì— `console appender`ê°€ ì¶”ê°€ë˜ì–´ ìˆë‹¤ë©´ **ëª¨ë“  í™œì„± ë¡œê·¸ëŠ” ìµœì†Œí•œ ì½˜ì†”ì— ì¶œë ¥**ëœë‹¤.
- ì—¬ê¸°ì— ì¶”ê°€ë¡œ ì–´ë–¤ **ë¡œê±° L**ì— `file appender`ë¥¼ ì„¤ì •í•˜ë©´, ë° **ê·¸ í•˜ìœ„ ë¡œê±°ì˜ ë¡œê·¸ëŠ” íŒŒì¼ê³¼ ì½˜ì†”ì— ëª¨ë‘ ì¶œë ¥**ëœë‹¤.
- í•˜ì§€ë§Œ ì´ëŸ¬í•œ ê¸°ë³¸ ë™ì‘ì€ **ì„¤ì •ì„ í†µí•´ ë³€ê²½í•  ìˆ˜ ìˆë‹¤**. ì¦‰, **additivity í”Œë˜ê·¸**ë¥¼ `false`ë¡œ ì„¤ì •í•˜ë©´ ìƒìœ„ **appender ìƒì†ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤**.

| **Logger Name**     | **Attached Appenders** | **Additivity Flag** | **Output Targets**                 | **Comment** |
|---------------------|------------------------|---------------------|------------------------------------|-------------|
| `root`              | A1                     | not applicable      | A1                                 | Since the root logger stands at the top of the logger hierarchy, the additivity flag does not apply to it. |
| `x`                 | A-x1, A-x2             | true                | A1, A-x1, A-x2                      | Appenders of "x" and of root. |
| `x.y`               | none                   | true                | A1, A-x1, A-x2                      | Appenders of "x" and of root. |
| `x.y.z`             | A-xyz1                 | true                | A1, A-x1, A-x2, A-xyz1              | Appenders of "x.y.z", "x" and of root. |
| `security`          | A-sec                  | false               | A-sec                              | No appender accumulation since the additivity flag is set to false. Only appender A-sec will be used. |
| `security.access`   | none                   | true                | A-sec                              | Only appenders of "security" because the additivity flag in "security" is set to false. |

#### 1. ConsoleAppender

```xml
<configuration> 
   <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender"> 
       <encoder> 
            <pattern> %d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n </pattern> 
       </encoder> 
   </appender> 

   <root level="info"> 
       <appender-ref ref="STDOUT" /> 
   </root> 

   <logger name="myPackage.Heater" level="warn"/> 
</configuration>
```
| íŒ¨í„´ | ì˜ë¯¸ |
|------|------|
| `%d{pattern}` | ë¡œê·¸ ë°œìƒ ì‹œê° |
| `%thread` | ìŠ¤ë ˆë“œ ì´ë¦„ |
| `%-5level` | ë¡œê·¸ ë ˆë²¨ (5ì ë„ˆë¹„ë¡œ ì¢Œì¸¡ ì •ë ¬) |
| `%logger{length}` | ë¡œê±° ì´ë¦„ (ìµœëŒ€ ê¸¸ì´ ì§€ì • ê°€ëŠ¥) |
| `%msg` | ë¡œê·¸ ë©”ì‹œì§€ |


#### 2. FileAppender

```xml
<appender name="FILE" class="ch.qos.logback.core.FileAppender"> 
    <append>true</append> <!-- default --> 
    <encoder> 
       <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} %msg%n</pattern> 
    </encoder> 
    <file>test.dat</file> 
</appender>

<root level="info"> 
   <appender-ref ref="STDOUT" /> 
   <appender-ref ref="FILE" /> 
</root>
```
> ë¡œê·¸ëŠ” **ì½˜ì†”**ê³¼ **íŒŒì¼**(test.dat)ì— **ë™ì‹œì— ì¶œë ¥**

#### 3. RollingFileAppender

- ë¡¤ì˜¤ë²„ íŒŒì¼(Rollover files): ë¡œê·¸ë¥¼ í•˜ë‚˜ì˜ íŒŒì¼ì— ê¸°ë¡í•˜ë‹¤ê°€, íŠ¹ì • ì¡°ê±´ì´ ë˜ë©´ ìƒˆë¡œìš´ ì¶œë ¥ íŒŒì¼ë¡œ ì „í™˜í•˜ëŠ” ë°©ì‹
- ì´ëŸ¬í•œ ì¡°ê±´ì€ **ë¡¤ë§ ì •ì±…**(rolling policies)ìœ¼ë¡œ ì§€ì •í•˜ë©°, ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ <Highlight color="LAVENDER">**TimeBasedRollingPolicy**</Highlight>ë¡œ,
â†’ ë§¤ë‹¬, ë§¤ì£¼, ë§¤ì¼, ë§¤ì‹œê°„ë§ˆë‹¤ ìƒˆ ë¡œê·¸ íŒŒì¼ë¡œ ì „í™˜ë©ë‹ˆë‹¤.

```xml
<appender name="log-file" class="ch.qos.logback.core.rolling.RollingFileAppender"> 
   <file>my-application.log</file>

   <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"> 
       <!-- rotate every day for log collection and archiving --> 
       <fileNamePattern>my-application.%d{yyyyMMdd}.log</fileNamePattern> 
   </rollingPolicy> 
</appender>
```

### 3. Logback Configuration

classpathì— ìœ„ì¹˜í•œ `logback.xml` íŒŒì¼

![Logback Configuration](/posts/Backend/2025-04-15/6.png)

```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>

    <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>TRACE</level>
        </filter>
    </appender>

    <appender name="DAILY_FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>logs/rest-demo.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <fileNamePattern>logs/rest-demo.%d{yyyy-MM-dd}.log</fileNamePattern>
            <maxHistory>30</maxHistory>
            <cleanHistoryOnStart>true</cleanHistoryOnStart>
        </rollingPolicy>
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{35} - %msg%n</pattern>
        </encoder>
    </appender>

    <logger name="kr.ac.hansung" level="DEBUG" additivity="false">
        <appender-ref ref="DAILY_FILE"/>
        <appender-ref ref="CONSOLE"/>
    </logger>

    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
    </root>
</configuration>
```